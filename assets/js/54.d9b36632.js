(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{737:function(n,s,a){"use strict";a.r(s);var e=a(15),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"antv-g2可视化引擎-有用过嘛"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#antv-g2可视化引擎-有用过嘛"}},[n._v("#")]),n._v(" AntV G2可视化引擎, 有用过嘛？")]),n._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/HerryLo",target:"_blank",rel:"noopener noreferrer"}},[n._v("作者：HerryLo"),a("OutboundLink")],1)]),n._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/AttemptWeb/Record/issues/31",target:"_blank",rel:"noopener noreferrer"}},[n._v("博客原文链接"),a("OutboundLink")],1)]),n._v(" "),a("p",[a("a",{attrs:{href:"https://antv.vision/zh",target:"_blank",rel:"noopener noreferrer"}},[n._v("Antv"),a("OutboundLink")],1),n._v(" 蚂蚁金福提供的数据可视化解决方案，是一系列的解决方案的集合，包含 G2、G6、F2、L7 以及一套完整的图表使用和设计规范。由于有大厂支持，AntV迭代稳定，文档和示例非常的齐全，这次因为业务需求的原因使用到了AntV G2数据可视化引擎，所以想记录下自己使用和学习的心得。")]),n._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://g2.antv.vision/zh",target:"_blank",rel:"noopener noreferrer"}},[n._v("G2"),a("OutboundLink")],1),n._v(" 一套面向常规统计图表，以数据驱动的高交互可视化图形语法，具有高度的易用性和扩展性。使用 G2，你可以无需关注图表各种繁琐的实现细节，一条语句即可使用 Canvas 或 SVG 构建出各种各样的可交互的统计图表。")])]),n._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/AttemptWeb/Record/issues/31",target:"_blank",rel:"noopener noreferrer"}},[n._v("博文原文链接"),a("OutboundLink")],1)]),n._v(" "),a("h2",{attrs:{id:"g2-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#g2-使用"}},[n._v("#")]),n._v(" G2 使用")]),n._v(" "),a("p",[n._v("npm 安装")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("npm install @antv/g2 --save\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("下面将G2 "),a("strong",[n._v("基础折线图")]),n._v("作为示例代码分析("),a("strong",[n._v("G2@4.0版本")]),n._v("):")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '1991', value: 3 },\n  { year: '1992', value: 4 },\n  { year: '1993', value: 3.5 },\n  { year: '1994', value: 5 },\n  { year: '1995', value: 4.9 },\n  { year: '1996', value: 6 },\n  { year: '1997', value: 7 },\n  { year: '1998', value: 9 },\n  { year: '1999', value: 13 },\n];\n\n// 初始化,指定容器DOM id、高度\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 500,\n});\n\n// data 数据\nchart.data(data);\n// scale 度量配置, 生成坐标轴刻度值\nchart.scale({\n  year: {\n    range: [0, 1],\n  },\n  value: {\n    min: 0,\n    nice: true,\n  },\n});\n\n// tooltip 提示信息，是指当鼠标悬停在图形上时，以提示框的形式展示该点的数据\nchart.tooltip({\n  showCrosshairs: true, // 展示 Tooltip 辅助线\n  shared: true,\n});\n\n// 几何图形 Geometry;\n// 使用 line 绘制折线图\n// 使用 position 通道将对应的变量映射到 x 和 y 位置空间上；\n// 使用label 展示value值；\nchart.line().position('year*value').label('value');\n\n// 使用 point 绘制点\n// 使用 position 将对应的变量映射到 x 和 y 位置空间上；\nchart.point().position('year*value');\n\n// 渲染\nchart.render();\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br"),a("span",{staticClass:"line-number"},[n._v("44")]),a("br"),a("span",{staticClass:"line-number"},[n._v("45")]),a("br"),a("span",{staticClass:"line-number"},[n._v("46")]),a("br"),a("span",{staticClass:"line-number"},[n._v("47")]),a("br"),a("span",{staticClass:"line-number"},[n._v("48")]),a("br"),a("span",{staticClass:"line-number"},[n._v("49")]),a("br"),a("span",{staticClass:"line-number"},[n._v("50")]),a("br"),a("span",{staticClass:"line-number"},[n._v("51")]),a("br"),a("span",{staticClass:"line-number"},[n._v("52")]),a("br")])]),a("p",[n._v("以上代码取自官方示例代码，"),a("a",{attrs:{href:"https://g2.antv.vision/zh/examples/line/basic#base",target:"_blank",rel:"noopener noreferrer"}},[n._v("Antv G2 基础折线图"),a("OutboundLink")],1),n._v("。会发现G2图表调用是通过函数链式调用来完成，相对于Echart，我个人觉得G2这样的开发流程相对的顺手，使用方法觉得比较舒适。（不分前端框架，使用起来都很香）。")]),n._v(" "),a("p",[n._v("以上只是拿折线图作为示例，大致说明了一下创建G2图表的大致调用过程。当然G2 也是支持其他类型的图表。下面就以我使用过的饼状图、柱状图作为例子，来梳理一下G2使用的大致脉络。")]),n._v(" "),a("h2",{attrs:{id:"g2饼状图-柱状图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#g2饼状图-柱状图"}},[n._v("#")]),n._v(" G2饼状图/柱状图")]),n._v(" "),a("p",[n._v("下面的例子中不会出现data数据变量，相关的实际图表可以参考完成示例代码")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("## 饼状图，完整示例参考：https://g2.antv.vision/zh/examples/pie/basic#labelline\n\nconst chart = new window.G2.Chart({\n  container: domID,\n  forceFit: true,\n  height: 210,\n  width: 230\n});\nchart.data(data);\n\n// coordinate 坐标系\n// theta：一种特殊的极坐标系，半径长度固定，仅仅将数据映射到角度，常用于饼图的绘制；\nchart.coordinate('theta');\n\n// tooltip 提示\n// 不展示提示标题；\nchart.tooltip({\n  showTitle: false\n});\n\n// 几何图形 Geometry\n// 使用 interval 绘制饼图；\n// 使用 position 通道 将对应的变量映射percent上；\n// 使用 color 通道 根据 item 字段的数据值进行颜色的映射；\n// 使用 adjust 调整数据 将同一个分类的数据值累加起来；\nchart.interval().position('percent').color('item').adjust('stack');\n\n// legend 图例\n// 不展示图例;\nchart.legend(false);\n\nchart.render();\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br")])]),a("p",[a("code",[n._v("几何图形 Geometry")]),n._v("API——"),a("code",[n._v("interval")]),n._v("用于"),a("strong",[n._v("绘制柱状图、直方图、南丁格尔玫瑰图、饼图、条形环图（玉缺图）、漏斗图")]),n._v("等，而"),a("code",[n._v("position")]),n._v("、"),a("code",[n._v("color")]),n._v("均是 几何图形 Geometry的通道映射规则。")]),n._v(" "),a("p",[a("code",[n._v("图例 legend")]),n._v("、"),a("code",[n._v("提示 tooltip")]),n._v("、"),a("code",[n._v("坐标系 coordinate")]),n._v("、"),a("code",[n._v("数据 data")]),n._v("均是单独控制图表。")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("## 柱状图，完整示例参考：https://g2.antv.vision/zh/examples/column/basic#basic\nconst chart = new window.G2.Chart({\n  container: domID,\n  autoFit: true,\n  height: 200,\n  width: 400\n});\nchart.data(data1);\n\n// scale 度量\n// num是y轴的值，nice=true是自动调整y轴刻度\nchart.scale('num', {\n  nice: true\n});\n\nchart.tooltip({\n  showMarkers: false\n});\n\n// interaction 交互\n// 鼠标在画布上移动是，对应的区域出现背景框\nchart.interaction('active-region');\n\n// 几何图形 Geometry\n// 使用 interval 绘制柱状图；\nchart.interval().position('gydw_mc*num');\n\nchart.render();\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br")])]),a("h2",{attrs:{id:"g2-基类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#g2-基类"}},[n._v("#")]),n._v(" G2 基类")]),n._v(" "),a("p",[n._v("上面出现新的方法 "),a("code",[n._v("交互 interaction")]),n._v("用来调整图表与用户的交互展示。")]),n._v(" "),a("blockquote",[a("p",[a("code",[n._v("几何图形 Geometry")]),n._v("—— line、point、interval、area（绘制线、点、饼/柱、面积图）等\n"),a("code",[n._v("数据 data")]),n._v(" "),a("code",[n._v("度量 scale")]),n._v(" "),a("code",[n._v("图例 legend")]),n._v(" "),a("code",[n._v("提示 tooltip")]),n._v(" "),a("code",[n._v("交互 interaction")]),n._v(" "),a("code",[n._v("坐标系 coordinate")])])]),n._v(" "),a("p",[n._v("这些是在例子中出现的方法，如果按照官方的介绍，以上就是G2 图表中的基类，当然，上面只包含部分，还有其他基类，如 "),a("code",[n._v("坐标轴 Axis")]),n._v("、"),a("code",[n._v("滚动条 Scrollbar")]),n._v("...等。")]),n._v(" "),a("p",[a("code",[n._v("window.G2.Chart")]),n._v("创建图表之后，即可通过图表实例，调用相关的基类方法，对图表进行定制化，最后"),a("code",[n._v("render")]),n._v("渲染即可。"),a("strong",[n._v("对于不同的配置，只需要找到相关基类属性方法即可。只要了解了相关基类配置，对于图表的使用也会相当顺手")]),n._v("。")]),n._v(" "),a("p",[n._v("现在再来看下面这串代码，你是否会特别清晰")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("let chart = window.G2.Chart({container: domID});\n\nchart.data(data);\n\nchart.scale({\n    x: {nice: true},\n    x: {nice: true}\n});\n\nchart.interval().position('gydw_mc*num');\nchart.line().position('year*value').label('value');\nchart.point().position('year*value');\n\nchart.tooltip({\n    showMarkers: false\n});\nchart.legend(false)\n\nchart.render();\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br")])]),a("p",[n._v("希望上面的内容对你使用antv G2 有所帮助，希望可以帮到你。")]),n._v(" "),a("p",[n._v("参考：")]),n._v(" "),a("p",[a("a",{attrs:{href:"https://g2.antv.vision/zh/docs/api/general/chart",target:"_blank",rel:"noopener noreferrer"}},[n._v("Antd G2 官方文档 "),a("OutboundLink")],1)]),n._v(" "),a("p",[a("a",{attrs:{href:"https://www.bookstack.cn/read/g2-4.x/323d1bc75cd9e694.md",target:"_blank",rel:"noopener noreferrer"}},[n._v("书栈网：G2 4.x 官方教程"),a("OutboundLink")],1)]),n._v(" "),a("p",[a("strong",[n._v("ps")]),n._v(": 微信公众号：Yopai，有兴趣的可以关注，每周不定期更新。不断分享，不断进步")]),n._v(" "),a("p",[a("img",{attrs:{src:"/webChat1.png",alt:""}})])])}),[],!1,null,null,null);s.default=t.exports}}]);